{% extends 'generic/object.html' %}

{% block content %}
<div class="row mb-3">
    <div class="col col-md-6">
        <div class="card">
            <h5 class="card-header">License Instance Details</h5>
            <table class="table table-hover attr-table">
                <tr>
                    <th scope="row">License</th>
                    <td>
                        <a href="{% url 'plugins:netbox_licenses:license' pk=object.license.pk %}">{{ object.license }}</a>
                    </td>
                </tr>
                <tr>
                    <th scope="row">Vendor</th>
                    <td>{{ object.license.vendor }}</td>
                </tr>
                <tr>
                    <th scope="row">Assigned Object</th>
                    <td>
                        {% if object.assigned_object %}
                            <a href="{{ object.assigned_object.get_absolute_url }}">{{ object.assigned_object }}</a>
                        {% else %}
                            —
                        {% endif %}
                    </td>
                </tr>
                <tr>
                    <th scope="row">Start Date</th>
                    <td>{{ object.start_date|default:"—" }}</td>
                </tr>
                <tr>
                    <th scope="row">End Date</th>
                    <td>{{ object.end_date|default:"—" }}</td>
                </tr>
                <tr>
                    <th scope="row">Price (NOK)</th>
                    <td>
                        {% if object.nok_price_override %}
                            {{ object.nok_price_override }} NOK
                        {% else %}
                            {{ object.license.price }} {{ object.license.currency }}
                        {% endif %}
                    </td>
                </tr>
            </table>
        </div>
    </div>
    <div class="col col-md-6">
        <div class="card">
            <h5 class="card-header">Related Information</h5>
            <table class="table table-hover attr-table">
                <tr>
                    <th scope="row">License Total Slots</th>
                    <td>{{ object.license.total_licenses }}</td>
                </tr>
                <tr>
                    <th scope="row">Consumed Slots</th>
                    <td>{{ object.license.consumed_licenses }}</td>
                </tr>
                <tr>
                    <th scope="row">Available Slots</th>
                    <td>{{ object.license.available_licenses }}</td>
                </tr>
                <tr>
                    <th scope="row">Assignment Type</th>
                    <td>{{ object.license.assignment_type.model|title|default:"—" }}</td>
                </tr>
                <tr>
                    <th scope="row">Created</th>
                    <td>{{ object.created }}</td>
                </tr>
                <tr>
                    <th scope="row">Last Modified</th>
                    <td>{{ object.last_updated }}</td>
                </tr>
            </table>
        </div>
    </div>
</div>
{% endblock %}

